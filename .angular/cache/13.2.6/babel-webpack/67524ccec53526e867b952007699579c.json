{"ast":null,"code":"import _asyncToGenerator from \"/Users/baeonette/Software Development/Final-Project/broadcast/broadcast-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/posts.service\";\nimport * as i4 from \"src/app/services/no-posts.service\";\nimport * as i5 from \"src/app/services/voting.service\";\nimport * as i6 from \"src/app/services/flagging.service\";\nimport * as i7 from \"src/app/services/user.service\";\nimport * as i8 from \"@angular/common\";\n\nfunction PostComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"div\", 6)(3, \"h6\", 7);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 8)(6, \"a\", 9)(7, \"div\", 10);\n    i0.ɵɵtext(8, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 11)(10, \"div\", 12);\n    i0.ɵɵtext(11, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_a_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const post_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.handleFlag(post_r3.messageId);\n    });\n    i0.ɵɵtext(13, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_a_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const post_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.handleFollow(post_r3.appUser.id);\n    });\n    i0.ɵɵtext(15, \"Follow\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 14);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 15)(19, \"div\", 16)(20, \"div\", 17)(21, \"div\", 18)(22, \"div\", 19);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const post_r3 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.upvote(post_r3.messageId, post_r3.appUser, post_r3.votes);\n    });\n    i0.ɵɵelement(23, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 21);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 19);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const post_r3 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.downvote(post_r3.messageId, post_r3.appUser, post_r3.votes);\n    });\n    i0.ɵɵelement(27, \"img\", 22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(28, \"div\", 23)(29, \"a\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"a\");\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"date\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const post_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"post-\", post_r3.messageId, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r3.messageTitle);\n    i0.ɵɵadvance(13);\n    i0.ɵɵtextInterpolate1(\" \", post_r3.messageBody, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵstyleMap(ctx_r0.voteStatus === 1 ? \"filter: none;\" : \"filter: brightness(5) saturate(0%);\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", post_r3.voteSummary, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(ctx_r0.voteStatus === -1 ? \"filter: none;\" : \"filter: brightness(5) saturate(0%);\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r3.appUser.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" // \", i0.ɵɵpipeBind2(33, 10, post_r3.dateStamp, \"short\"), \"\");\n  }\n}\n\nfunction PostComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"div\", 6);\n    i0.ɵɵelement(3, \"h6\", 26);\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"a\", 9)(6, \"div\", 10);\n    i0.ɵɵtext(7, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 27)(9, \"div\", 12);\n    i0.ɵɵtext(10, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 28);\n    i0.ɵɵtext(12, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 28);\n    i0.ɵɵtext(14, \"Follow\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 14);\n    i0.ɵɵtext(16, \" Check \");\n    i0.ɵɵelementStart(17, \"a\", 29);\n    i0.ɵɵtext(18, \"the explore page\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \" to find people to follow! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 15)(21, \"div\", 30)(22, \"div\", 31)(23, \"div\", 18)(24, \"div\", 32);\n    i0.ɵɵelement(25, \"img\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 21);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 32);\n    i0.ɵɵelement(29, \"img\", 34);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(30, \"div\", 35);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.noPostsMessage, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(24);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.votes, \" \");\n  }\n}\n\nfunction PostComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"div\", 6);\n    i0.ɵɵelement(3, \"h6\", 26);\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"a\", 9)(6, \"div\", 10);\n    i0.ɵɵtext(7, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 27)(9, \"div\", 12);\n    i0.ɵɵtext(10, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 28);\n    i0.ɵɵtext(12, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 28);\n    i0.ɵɵtext(14, \"Follow\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 14);\n    i0.ɵɵtext(16, \" Either an error occurred, or you will be the first to create a post! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 15)(18, \"div\", 30)(19, \"div\", 31)(20, \"div\", 18)(21, \"div\", 32);\n    i0.ɵɵelement(22, \"img\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 21);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 32);\n    i0.ɵɵelement(26, \"img\", 34);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(27, \"div\", 35);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.noPostsMessage, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(21);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.votes, \" \");\n  }\n}\n\nexport class PostComponent {\n  constructor(http, // Build private HTTP client\n  router, // Build private router\n  postService, // Create post service\n  noPostsService, // Import no posts messages\n  votingService, // Import Voting service\n  flaggingService, // Import flagging service\n  userService) {\n    this.http = http;\n    this.router = router;\n    this.postService = postService;\n    this.noPostsService = noPostsService;\n    this.votingService = votingService;\n    this.flaggingService = flaggingService;\n    this.userService = userService;\n    this.votes = 0;\n    this.voteStatus = 0; // 0 = no votes, 1 = upvote, -1 = downvote\n  }\n\n  ngOnInit() {\n    this.postType = this.type;\n    console.log(this.posts);\n    this.userService.getUserProfile().subscribe(res => {\n      console.log('user profile:');\n      console.log(res);\n      this.currentUser = res;\n    });\n\n    if (!this.posts) {\n      this.noPostsMessage = this.noPostsService.noPosts();\n    }\n  }\n\n  upvote(postID, appUser, voteArray) {\n    if (voteArray == '' || voteArray == null) {\n      var mId = postID;\n      this.votingService.createMessageVote(mId).subscribe( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (response) {\n          console.log(response);\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } else {\n      var vId = voteArray[0].voteId;\n      this.votingService.deleteMessageVote(vId, appUser).subscribe( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator(function* (response) {\n          console.log(response); //  this.posts = this.posts.filter(item=>item.messageId !== postID);\n        });\n\n        return function (_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }()); // this.votingService.upvote(postID, userID, voteArray);\n    }\n  }\n\n  downvote(postID, appUser, voteArray) {\n    /**\n     * Downvote post\n     * If post already was downvoted by the user, remove vote\n     * Lastly, update vote count\n     */\n    if (voteArray == '' || voteArray == null) {\n      var mId = postID;\n      this.votingService.createMessageDownVote(mId).subscribe( /*#__PURE__*/function () {\n        var _ref3 = _asyncToGenerator(function* (response) {\n          console.log(response);\n        });\n\n        return function (_x3) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    } else {\n      var vId = voteArray[0].voteId;\n      this.votingService.deleteMessageVote(vId, appUser).subscribe( /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator(function* (response) {\n          console.log(response); // this.votingService.downvote(postID);\n        });\n\n        return function (_x4) {\n          return _ref4.apply(this, arguments);\n        };\n      }());\n    }\n  }\n\n  flag(postID) {\n    this.flaggingService.flag(postID);\n  }\n\n  handleFollow(userID, type) {\n    let following; // True = IS following, False = is NOT following\n\n    this.postService.getFollowingPosts().subscribe(res => {\n      console.log(res);\n    }, err => {\n      console.log(err);\n    }); // following = true;\n    // if (following === true) {\n\n    this.userService.followUser(userID).subscribe(res => {\n      console.log(res);\n    }); // } else if (following === false) {\n    //   this.userService.unfollowUser(userID).subscribe(res => {\n    //   })\n    // }\n  }\n\n  handleFlag(postID) {\n    console.log(postID);\n    this.flaggingService.flag(postID).subscribe(res => {\n      console.log(res);\n    });\n  }\n\n}\n\nPostComponent.ɵfac = function PostComponent_Factory(t) {\n  return new (t || PostComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.PostsService), i0.ɵɵdirectiveInject(i4.NoPostsService), i0.ɵɵdirectiveInject(i5.VotingService), i0.ɵɵdirectiveInject(i6.FlaggingService), i0.ɵɵdirectiveInject(i7.UserService));\n};\n\nPostComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostComponent,\n  selectors: [[\"app-post\"]],\n  inputs: {\n    type: \"type\",\n    posts: \"posts\"\n  },\n  decls: 5,\n  vars: 3,\n  consts: [[1, \"posts\", \"justify-content-center\"], [1, \"buffer\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mb-4 mx-auto\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mx-auto\", 4, \"ngIf\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mb-4\", \"mx-auto\"], [1, \"card\", \"h-100\", \"bg-mid\", \"shadow\", \"mb-4\", 3, \"id\"], [1, \"card-header\", \"bg-mid\", \"py-3\", \"d-flex\", \"flex-row\", \"align-items-center\", \"justify-content-between\"], [1, \"m-0\", \"font-weight-bold\"], [1, \"dropdown\", \"no-arrow\"], [\"href\", \"#\", \"role\", \"button\", \"id\", \"dropdownMenuLink\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"dropdown-toggle\"], [1, \"text-gray-400\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"animated--fade-in\"], [1, \"dropdown-header\"], [1, \"dropdown-item\", 3, \"click\"], [1, \"card-body\"], [1, \"card-footer\"], [1, \"row\", \"justify-content-between\"], [1, \"col-xxl-2\", \"col-xl-2\", \"col-lg-2\", \"col-md-2\", \"col-sm-3\", \"col-xsm-2\", \"justify-content-between\"], [1, \"row\", \"vote\"], [1, \"vote-arrows\", 3, \"click\"], [\"src\", \"../../../assets/upvote.svg\", \"alt\", \"\"], [1, \"vote-count\", \"text-center\"], [\"src\", \"../../../assets/downvote.svg\", \"alt\", \"\"], [1, \"justify-content-end\", \"col-xxl-5\", \"col-xl-5\", \"col-lg-5\", \"col-md-5\", \"col-sm-9\", \"col-xsm-7\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mx-auto\"], [1, \"card\", \"h-100\", \"bg-mid\", \"shadow\", \"mb-4\"], [1, \"m-0\", \"font-weight-bold\", 3, \"innerHtml\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"bg-dropdown\", \"animated--fade-in\"], [\"href\", \"#\", 1, \"dropdown-item\"], [\"routerLink\", \"/explore\"], [1, \"row\"], [1, \"col-xxl-2\", \"col-xl-2\", \"col-lg-2\", \"col-md-2\", \"col-sm-2\", \"col-xsm-2\", \"justify-content-between\"], [1, \"vote-arrows\"], [\"src\", \"../../../assets/upvote.svg\", \"alt\", \"\", 2, \"filter\", \"brightness(5) saturate(0%)\"], [\"src\", \"../../../assets/downvote.svg\", \"alt\", \"\", 2, \"filter\", \"brightness(5) saturate(0%)\"], [1, \"col-xxl-8\", \"col-xl-8\", \"col-lg-8\", \"col-md-8\", \"col-sm-8\", \"col-xsm-8\"]],\n  template: function PostComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1);\n      i0.ɵɵtemplate(2, PostComponent_div_2_Template, 34, 13, \"div\", 2);\n      i0.ɵɵtemplate(3, PostComponent_div_3_Template, 31, 2, \"div\", 3);\n      i0.ɵɵtemplate(4, PostComponent_div_4_Template, 28, 2, \"div\", 3);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.posts);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !(ctx.posts == null ? null : ctx.posts.length) && ctx.postType === 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !(ctx.posts == null ? null : ctx.posts.length) && ctx.postType === 2);\n    }\n  },\n  directives: [i8.NgForOf, i8.NgIf, i2.RouterLinkWithHref],\n  pipes: [i8.DatePipe],\n  styles: [\"#posts[_ngcontent-%COMP%] {\\n    margin: 0 auto;\\n}\\n\\n.vote[_ngcontent-%COMP%] {\\n    display: flex;\\n    text-align: center;\\n}\\n\\n.buffer[_ngcontent-%COMP%] {\\n    margin-top: 2em;\\n}\\n\\n.vote-arrows[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n\\n.vote-count[_ngcontent-%COMP%] {\\n    text-align: center;\\n    display: block;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCIiwiZmlsZSI6InBvc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiNwb3N0cyB7XG4gICAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi52b3RlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmJ1ZmZlciB7XG4gICAgbWFyZ2luLXRvcDogMmVtO1xufVxuXG4udm90ZS1hcnJvd3Mge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxuLnZvdGUtY291bnQge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59Il19 */\"]\n});","map":{"version":3,"sources":["/Users/baeonette/Software Development/Final-Project/broadcast/broadcast-frontend/src/app/components/feed/post/post.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","i7","i8","PostComponent_div_2_Template","rf","ctx","_r5","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PostComponent_div_2_Template_a_click_12_listener","restoredCtx","ɵɵrestoreView","post_r3","$implicit","ctx_r4","ɵɵnextContext","handleFlag","messageId","PostComponent_div_2_Template_a_click_14_listener","ctx_r6","handleFollow","appUser","id","PostComponent_div_2_Template_div_click_22_listener","ctx_r7","upvote","votes","ɵɵelement","PostComponent_div_2_Template_div_click_26_listener","ctx_r8","downvote","ɵɵpipe","ctx_r0","ɵɵadvance","ɵɵpropertyInterpolate1","ɵɵtextInterpolate","messageTitle","ɵɵtextInterpolate1","messageBody","ɵɵstyleMap","voteStatus","voteSummary","username","ɵɵpipeBind2","dateStamp","PostComponent_div_3_Template","ctx_r1","ɵɵproperty","noPostsMessage","ɵɵsanitizeHtml","PostComponent_div_4_Template","ctx_r2","PostComponent","constructor","http","router","postService","noPostsService","votingService","flaggingService","userService","ngOnInit","postType","type","console","log","posts","getUserProfile","subscribe","res","currentUser","noPosts","postID","voteArray","mId","createMessageVote","response","vId","voteId","deleteMessageVote","createMessageDownVote","flag","userID","following","getFollowingPosts","err","followUser","ɵfac","PostComponent_Factory","t","ɵɵdirectiveInject","HttpClient","Router","PostsService","NoPostsService","VotingService","FlaggingService","UserService","ɵcmp","ɵɵdefineComponent","selectors","inputs","decls","vars","consts","template","PostComponent_Template","ɵɵtemplate","length","directives","NgForOf","NgIf","RouterLinkWithHref","pipes","DatePipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/posts.service\";\nimport * as i4 from \"src/app/services/no-posts.service\";\nimport * as i5 from \"src/app/services/voting.service\";\nimport * as i6 from \"src/app/services/flagging.service\";\nimport * as i7 from \"src/app/services/user.service\";\nimport * as i8 from \"@angular/common\";\nfunction PostComponent_div_2_Template(rf, ctx) { if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"div\", 6)(3, \"h6\", 7);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 8)(6, \"a\", 9)(7, \"div\", 10);\n    i0.ɵɵtext(8, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 11)(10, \"div\", 12);\n    i0.ɵɵtext(11, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_a_click_12_listener() { const restoredCtx = i0.ɵɵrestoreView(_r5); const post_r3 = restoredCtx.$implicit; const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.handleFlag(post_r3.messageId); });\n    i0.ɵɵtext(13, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"a\", 13);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_a_click_14_listener() { const restoredCtx = i0.ɵɵrestoreView(_r5); const post_r3 = restoredCtx.$implicit; const ctx_r6 = i0.ɵɵnextContext(); return ctx_r6.handleFollow(post_r3.appUser.id); });\n    i0.ɵɵtext(15, \"Follow\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 14);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 15)(19, \"div\", 16)(20, \"div\", 17)(21, \"div\", 18)(22, \"div\", 19);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_22_listener() { const restoredCtx = i0.ɵɵrestoreView(_r5); const post_r3 = restoredCtx.$implicit; const ctx_r7 = i0.ɵɵnextContext(); return ctx_r7.upvote(post_r3.messageId, post_r3.appUser, post_r3.votes); });\n    i0.ɵɵelement(23, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 21);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 19);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_26_listener() { const restoredCtx = i0.ɵɵrestoreView(_r5); const post_r3 = restoredCtx.$implicit; const ctx_r8 = i0.ɵɵnextContext(); return ctx_r8.downvote(post_r3.messageId, post_r3.appUser, post_r3.votes); });\n    i0.ɵɵelement(27, \"img\", 22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(28, \"div\", 23)(29, \"a\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"a\");\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"date\");\n    i0.ɵɵelementEnd()()()()()();\n} if (rf & 2) {\n    const post_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"post-\", post_r3.messageId, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r3.messageTitle);\n    i0.ɵɵadvance(13);\n    i0.ɵɵtextInterpolate1(\" \", post_r3.messageBody, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵstyleMap(ctx_r0.voteStatus === 1 ? \"filter: none;\" : \"filter: brightness(5) saturate(0%);\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", post_r3.voteSummary, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(ctx_r0.voteStatus === -1 ? \"filter: none;\" : \"filter: brightness(5) saturate(0%);\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(post_r3.appUser.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" // \", i0.ɵɵpipeBind2(33, 10, post_r3.dateStamp, \"short\"), \"\");\n} }\nfunction PostComponent_div_3_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"div\", 6);\n    i0.ɵɵelement(3, \"h6\", 26);\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"a\", 9)(6, \"div\", 10);\n    i0.ɵɵtext(7, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 27)(9, \"div\", 12);\n    i0.ɵɵtext(10, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 28);\n    i0.ɵɵtext(12, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 28);\n    i0.ɵɵtext(14, \"Follow\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 14);\n    i0.ɵɵtext(16, \" Check \");\n    i0.ɵɵelementStart(17, \"a\", 29);\n    i0.ɵɵtext(18, \"the explore page\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \" to find people to follow! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 15)(21, \"div\", 30)(22, \"div\", 31)(23, \"div\", 18)(24, \"div\", 32);\n    i0.ɵɵelement(25, \"img\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 21);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 32);\n    i0.ɵɵelement(29, \"img\", 34);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(30, \"div\", 35);\n    i0.ɵɵelementEnd()()()();\n} if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.noPostsMessage, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(24);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.votes, \" \");\n} }\nfunction PostComponent_div_4_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"div\", 25)(2, \"div\", 6);\n    i0.ɵɵelement(3, \"h6\", 26);\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"a\", 9)(6, \"div\", 10);\n    i0.ɵɵtext(7, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 27)(9, \"div\", 12);\n    i0.ɵɵtext(10, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 28);\n    i0.ɵɵtext(12, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 28);\n    i0.ɵɵtext(14, \"Follow\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 14);\n    i0.ɵɵtext(16, \" Either an error occurred, or you will be the first to create a post! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 15)(18, \"div\", 30)(19, \"div\", 31)(20, \"div\", 18)(21, \"div\", 32);\n    i0.ɵɵelement(22, \"img\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 21);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 32);\n    i0.ɵɵelement(26, \"img\", 34);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(27, \"div\", 35);\n    i0.ɵɵelementEnd()()()();\n} if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.noPostsMessage, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(21);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.votes, \" \");\n} }\nexport class PostComponent {\n    constructor(http, // Build private HTTP client\n    router, // Build private router\n    postService, // Create post service\n    noPostsService, // Import no posts messages\n    votingService, // Import Voting service\n    flaggingService, // Import flagging service\n    userService) {\n        this.http = http;\n        this.router = router;\n        this.postService = postService;\n        this.noPostsService = noPostsService;\n        this.votingService = votingService;\n        this.flaggingService = flaggingService;\n        this.userService = userService;\n        this.votes = 0;\n        this.voteStatus = 0; // 0 = no votes, 1 = upvote, -1 = downvote\n    }\n    ngOnInit() {\n        this.postType = this.type;\n        console.log(this.posts);\n        this.userService.getUserProfile().subscribe(res => {\n            console.log('user profile:');\n            console.log(res);\n            this.currentUser = res;\n        });\n        if (!this.posts) {\n            this.noPostsMessage = this.noPostsService.noPosts();\n        }\n    }\n    upvote(postID, appUser, voteArray) {\n        if (voteArray == '' || voteArray == null) {\n            var mId = postID;\n            this.votingService.createMessageVote(mId)\n                .subscribe(async (response) => {\n                console.log(response);\n            });\n        }\n        else {\n            var vId = voteArray[0].voteId;\n            this.votingService.deleteMessageVote(vId, appUser)\n                .subscribe(async (response) => {\n                console.log(response);\n                //  this.posts = this.posts.filter(item=>item.messageId !== postID);\n            });\n            // this.votingService.upvote(postID, userID, voteArray);\n        }\n    }\n    downvote(postID, appUser, voteArray) {\n        /**\n         * Downvote post\n         * If post already was downvoted by the user, remove vote\n         * Lastly, update vote count\n         */\n        if (voteArray == '' || voteArray == null) {\n            var mId = postID;\n            this.votingService.createMessageDownVote(mId)\n                .subscribe(async (response) => {\n                console.log(response);\n            });\n        }\n        else {\n            var vId = voteArray[0].voteId;\n            this.votingService.deleteMessageVote(vId, appUser)\n                .subscribe(async (response) => {\n                console.log(response);\n                // this.votingService.downvote(postID);\n            });\n        }\n    }\n    flag(postID) {\n        this.flaggingService.flag(postID);\n    }\n    handleFollow(userID, type) {\n        let following; // True = IS following, False = is NOT following\n        this.postService.getFollowingPosts().subscribe(res => {\n            console.log(res);\n        }, err => {\n            console.log(err);\n        });\n        // following = true;\n        // if (following === true) {\n        this.userService.followUser(userID).subscribe(res => {\n            console.log(res);\n        });\n        // } else if (following === false) {\n        //   this.userService.unfollowUser(userID).subscribe(res => {\n        //   })\n        // }\n    }\n    handleFlag(postID) {\n        console.log(postID);\n        this.flaggingService.flag(postID).subscribe(res => {\n            console.log(res);\n        });\n    }\n}\nPostComponent.ɵfac = function PostComponent_Factory(t) { return new (t || PostComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.PostsService), i0.ɵɵdirectiveInject(i4.NoPostsService), i0.ɵɵdirectiveInject(i5.VotingService), i0.ɵɵdirectiveInject(i6.FlaggingService), i0.ɵɵdirectiveInject(i7.UserService)); };\nPostComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PostComponent, selectors: [[\"app-post\"]], inputs: { type: \"type\", posts: \"posts\" }, decls: 5, vars: 3, consts: [[1, \"posts\", \"justify-content-center\"], [1, \"buffer\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mb-4 mx-auto\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mx-auto\", 4, \"ngIf\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mb-4\", \"mx-auto\"], [1, \"card\", \"h-100\", \"bg-mid\", \"shadow\", \"mb-4\", 3, \"id\"], [1, \"card-header\", \"bg-mid\", \"py-3\", \"d-flex\", \"flex-row\", \"align-items-center\", \"justify-content-between\"], [1, \"m-0\", \"font-weight-bold\"], [1, \"dropdown\", \"no-arrow\"], [\"href\", \"#\", \"role\", \"button\", \"id\", \"dropdownMenuLink\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"dropdown-toggle\"], [1, \"text-gray-400\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"animated--fade-in\"], [1, \"dropdown-header\"], [1, \"dropdown-item\", 3, \"click\"], [1, \"card-body\"], [1, \"card-footer\"], [1, \"row\", \"justify-content-between\"], [1, \"col-xxl-2\", \"col-xl-2\", \"col-lg-2\", \"col-md-2\", \"col-sm-3\", \"col-xsm-2\", \"justify-content-between\"], [1, \"row\", \"vote\"], [1, \"vote-arrows\", 3, \"click\"], [\"src\", \"../../../assets/upvote.svg\", \"alt\", \"\"], [1, \"vote-count\", \"text-center\"], [\"src\", \"../../../assets/downvote.svg\", \"alt\", \"\"], [1, \"justify-content-end\", \"col-xxl-5\", \"col-xl-5\", \"col-lg-5\", \"col-md-5\", \"col-sm-9\", \"col-xsm-7\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mx-auto\"], [1, \"card\", \"h-100\", \"bg-mid\", \"shadow\", \"mb-4\"], [1, \"m-0\", \"font-weight-bold\", 3, \"innerHtml\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"bg-dropdown\", \"animated--fade-in\"], [\"href\", \"#\", 1, \"dropdown-item\"], [\"routerLink\", \"/explore\"], [1, \"row\"], [1, \"col-xxl-2\", \"col-xl-2\", \"col-lg-2\", \"col-md-2\", \"col-sm-2\", \"col-xsm-2\", \"justify-content-between\"], [1, \"vote-arrows\"], [\"src\", \"../../../assets/upvote.svg\", \"alt\", \"\", 2, \"filter\", \"brightness(5) saturate(0%)\"], [\"src\", \"../../../assets/downvote.svg\", \"alt\", \"\", 2, \"filter\", \"brightness(5) saturate(0%)\"], [1, \"col-xxl-8\", \"col-xl-8\", \"col-lg-8\", \"col-md-8\", \"col-sm-8\", \"col-xsm-8\"]], template: function PostComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"div\", 1);\n        i0.ɵɵtemplate(2, PostComponent_div_2_Template, 34, 13, \"div\", 2);\n        i0.ɵɵtemplate(3, PostComponent_div_3_Template, 31, 2, \"div\", 3);\n        i0.ɵɵtemplate(4, PostComponent_div_4_Template, 28, 2, \"div\", 3);\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.posts);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.posts == null ? null : ctx.posts.length) && ctx.postType === 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.posts == null ? null : ctx.posts.length) && ctx.postType === 2);\n    } }, directives: [i8.NgForOf, i8.NgIf, i2.RouterLinkWithHref], pipes: [i8.DatePipe], styles: [\"#posts[_ngcontent-%COMP%] {\\n    margin: 0 auto;\\n}\\n\\n.vote[_ngcontent-%COMP%] {\\n    display: flex;\\n    text-align: center;\\n}\\n\\n.buffer[_ngcontent-%COMP%] {\\n    margin-top: 2em;\\n}\\n\\n.vote-arrows[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n\\n.vote-count[_ngcontent-%COMP%] {\\n    text-align: center;\\n    display: block;\\n    margin-left: auto;\\n    margin-right: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCIiwiZmlsZSI6InBvc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiNwb3N0cyB7XG4gICAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi52b3RlIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmJ1ZmZlciB7XG4gICAgbWFyZ2luLXRvcDogMmVtO1xufVxuXG4udm90ZS1hcnJvd3Mge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxuLnZvdGUtY291bnQge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59Il19 */\"] });\n"]},"metadata":{},"sourceType":"module"}