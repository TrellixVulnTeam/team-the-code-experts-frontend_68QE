{"ast":null,"code":"import _asyncToGenerator from \"/Users/orielspace/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-cookie-service\";\nimport * as i5 from \"src/app/services/user.service\";\nimport * as i6 from \"@angular/common\";\n\nfunction LoginComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"i\")(2, \"p\", 18);\n    i0.ɵɵtext(3, \"*Incorrect password\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction LoginComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"i\")(2, \"p\", 18);\n    i0.ɵɵtext(3, \"*Username doesn't exist. Register \");\n    i0.ɵɵelementStart(4, \"a\", 19);\n    i0.ɵɵtext(5, \"here\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\n\nfunction LoginComponent_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n  }\n}\n\nfunction LoginComponent_span_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"border\": a0\n  };\n};\n\nexport class LoginComponent {\n  constructor(formBuilder, // Build private form\n  http, // Build private HTTP client\n  router, // Build private router\n  cookieService, // Create Cookie Service\n  userService) {\n    this.formBuilder = formBuilder;\n    this.http = http;\n    this.router = router;\n    this.cookieService = cookieService;\n    this.userService = userService;\n    this.passMatch = true; // Change to false if password is incorrect\n\n    this.userExists = false; // Change to true if user does NOT exist\n\n    this.cookie_name = ''; // Cookie name\n\n    this.all_cookies = ''; // All cookies\n  }\n\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      username: ['', Validators.required],\n      password: ['', Validators.required]\n    });\n  }\n\n  login() {\n    var _this = this;\n\n    this.userExists = false; // Set default\n\n    this.passMatch = true; // Set default\n\n    this.userService.login({\n      Username: this.loginForm.value.username,\n      Password: this.loginForm.value.password\n    }).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (res) {\n        console.log(res);\n\n        if (res.token) {\n          _this.cookieService.set('token', res.token); // Add TOKEN cookie\n\n\n          _this.cookieService.set('username', res.username); // Add username cookie\n\n\n          _this.loginForm.reset(); // Clear form\n\n\n          yield _this.router.navigate(['home']); // Re-direct to home\n        } else if (!res.token) {\n          // If user doesn't exist, or password is incorrect\n          _this.userExists = true; // Display error message\n\n          _this.passMatch = false; // Display error message\n        }\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.CookieService), i0.ɵɵdirectiveInject(i5.UserService));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 27,\n  vars: 14,\n  consts: [[1, \"container\", \"login\"], [1, \"card\", \"bg-dark\", \"o-hidden\", \"border-0\", \"shadow-lg\", \"my-5\"], [1, \"card-body\", \"p-0\"], [1, \"row\"], [1, \"col-lg-5\", \"d-none\", \"d-lg-block\", \"bg-register-image\"], [1, \"col-lg-7\"], [1, \"p-5\"], [1, \"text-center\"], [1, \"h4\", \"mb-4\"], [1, \"user\", 3, \"formGroup\", \"ngSubmit\"], [\"class\", \"text-center\", 4, \"ngIf\"], [1, \"form-group\"], [\"title\", \"status\", 1, \"glyphicon\", \"glyphicon-refresh\", \"blue\"], [\"type\", \"username\", \"formControlName\", \"username\", \"id\", \"InputUsername\", \"placeholder\", \"Username\", \"required\", \"\", 1, \"form-control\", \"bg-light\", 3, \"ngStyle\", \"maxlength\"], [4, \"ngIf\"], [\"type\", \"password\", \"formControlName\", \"password\", \"id\", \"InputPassword\", \"placeholder\", \"Password\", \"required\", \"\", 1, \"form-control\", \"bg-light\", 3, \"ngStyle\", \"maxlength\"], [\"type\", \"submit\", 1, \"btn\", \"btn-secondary\", \"btn-block\", 3, \"disabled\"], [\"routerLink\", \"/signup\", 1, \"small\"], [1, \"input-error\"], [\"routerLink\", \"register\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵelement(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 6)(7, \"div\", 7)(8, \"h1\", 8);\n      i0.ɵɵtext(9, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"form\", 9);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_10_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵtemplate(11, LoginComponent_div_11_Template, 4, 0, \"div\", 10);\n      i0.ɵɵtemplate(12, LoginComponent_div_12_Template, 6, 0, \"div\", 10);\n      i0.ɵɵelementStart(13, \"div\", 11);\n      i0.ɵɵelement(14, \"span\", 12)(15, \"input\", 13);\n      i0.ɵɵtemplate(16, LoginComponent_span_16_Template, 1, 0, \"span\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 11);\n      i0.ɵɵelement(18, \"span\", 12)(19, \"input\", 15);\n      i0.ɵɵtemplate(20, LoginComponent_span_20_Template, 1, 0, \"span\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"button\", 16);\n      i0.ɵɵtext(22, \" Login \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(23, \"hr\");\n      i0.ɵɵelementStart(24, \"div\", 7)(25, \"a\", 17);\n      i0.ɵɵtext(26, \"Don't have an account? Register!\");\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.passMatch === false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.userExists === true);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(10, _c0, ctx.loginForm.controls[\"username\"].dirty && ctx.loginForm.hasError(\"required\", \"username\") ? \"2px solid rgb(219, 24, 24)\" : \"2px solid rgb(217, 216, 225)\"))(\"maxlength\", 20);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loginForm.controls[\"username\"].dirty && ctx.loginForm.hasError(\"required\", \"username\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(12, _c0, ctx.loginForm.controls[\"password\"].dirty && ctx.loginForm.hasError(\"required\", \"password\") ? \"2px solid rgb(219, 24, 24)\" : \"2px solid rgb(217, 216, 225)\"))(\"maxlength\", 20);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loginForm.controls[\"password\"].dirty && ctx.loginForm.hasError(\"required\", \"password\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.loginForm.valid);\n    }\n  },\n  directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i6.NgIf, i3.RouterLinkWithHref, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i6.NgStyle, i1.MaxLengthValidator],\n  styles: [\".card[_ngcontent-%COMP%] {\\n    margin-top: 10% !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSwwQkFBMEI7QUFDOUIiLCJmaWxlIjoibG9naW4uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkIHtcbiAgICBtYXJnaW4tdG9wOiAxMCUgIWltcG9ydGFudDtcbn1cbiJdfQ== */\"]\n});","map":{"version":3,"sources":["/Users/orielspace/Desktop/frontend/src/app/components/login/login.component.ts"],"names":["Validators","i0","i1","i2","i3","i4","i5","i6","LoginComponent_div_11_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","LoginComponent_div_12_Template","LoginComponent_span_16_Template","ɵɵelement","LoginComponent_span_20_Template","_c0","a0","LoginComponent","constructor","formBuilder","http","router","cookieService","userService","passMatch","userExists","cookie_name","all_cookies","ngOnInit","loginForm","group","username","required","password","login","Username","value","Password","subscribe","res","console","log","token","set","reset","navigate","ɵfac","LoginComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","HttpClient","Router","CookieService","UserService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","LoginComponent_Template","ɵɵlistener","LoginComponent_Template_form_ngSubmit_10_listener","ɵɵtemplate","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","controls","dirty","hasError","valid","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","NgIf","RouterLinkWithHref","DefaultValueAccessor","NgControlStatus","FormControlName","RequiredValidator","NgStyle","MaxLengthValidator","styles"],"mappings":"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","sourcesContent":["import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-cookie-service\";\nimport * as i5 from \"src/app/services/user.service\";\nimport * as i6 from \"@angular/common\";\nfunction LoginComponent_div_11_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"i\")(2, \"p\", 18);\n    i0.ɵɵtext(3, \"*Incorrect password\");\n    i0.ɵɵelementEnd()()();\n} }\nfunction LoginComponent_div_12_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"i\")(2, \"p\", 18);\n    i0.ɵɵtext(3, \"*Username doesn't exist. Register \");\n    i0.ɵɵelementStart(4, \"a\", 19);\n    i0.ɵɵtext(5, \"here\");\n    i0.ɵɵelementEnd()()()();\n} }\nfunction LoginComponent_span_16_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n} }\nfunction LoginComponent_span_20_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n} }\nconst _c0 = function (a0) { return { \"border\": a0 }; };\nexport class LoginComponent {\n    constructor(formBuilder, // Build private form\n    http, // Build private HTTP client\n    router, // Build private router\n    cookieService, // Create Cookie Service\n    userService) {\n        this.formBuilder = formBuilder;\n        this.http = http;\n        this.router = router;\n        this.cookieService = cookieService;\n        this.userService = userService;\n        this.passMatch = true; // Change to false if password is incorrect\n        this.userExists = false; // Change to true if user does NOT exist\n        this.cookie_name = ''; // Cookie name\n        this.all_cookies = ''; // All cookies\n    }\n    ngOnInit() {\n        this.loginForm = this.formBuilder.group({\n            username: ['', Validators.required],\n            password: ['', Validators.required],\n        });\n    }\n    login() {\n        this.userExists = false; // Set default\n        this.passMatch = true; // Set default\n        this.userService.login({\n            Username: this.loginForm.value.username,\n            Password: this.loginForm.value.password,\n        }).subscribe(async (res) => {\n            console.log(res);\n            if (res.token) {\n                this.cookieService.set('token', res.token); // Add TOKEN cookie\n                this.cookieService.set('username', res.username); // Add username cookie\n                this.loginForm.reset(); // Clear form\n                await this.router.navigate(['home']); // Re-direct to home\n            }\n            else if (!res.token) {\n                // If user doesn't exist, or password is incorrect\n                this.userExists = true; // Display error message\n                this.passMatch = false; // Display error message\n            }\n        });\n    }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.CookieService), i0.ɵɵdirectiveInject(i5.UserService)); };\nLoginComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginComponent, selectors: [[\"app-login\"]], decls: 27, vars: 14, consts: [[1, \"container\", \"login\"], [1, \"card\", \"bg-dark\", \"o-hidden\", \"border-0\", \"shadow-lg\", \"my-5\"], [1, \"card-body\", \"p-0\"], [1, \"row\"], [1, \"col-lg-5\", \"d-none\", \"d-lg-block\", \"bg-register-image\"], [1, \"col-lg-7\"], [1, \"p-5\"], [1, \"text-center\"], [1, \"h4\", \"mb-4\"], [1, \"user\", 3, \"formGroup\", \"ngSubmit\"], [\"class\", \"text-center\", 4, \"ngIf\"], [1, \"form-group\"], [\"title\", \"status\", 1, \"glyphicon\", \"glyphicon-refresh\", \"blue\"], [\"type\", \"username\", \"formControlName\", \"username\", \"id\", \"InputUsername\", \"placeholder\", \"Username\", \"required\", \"\", 1, \"form-control\", \"bg-light\", 3, \"ngStyle\", \"maxlength\"], [4, \"ngIf\"], [\"type\", \"password\", \"formControlName\", \"password\", \"id\", \"InputPassword\", \"placeholder\", \"Password\", \"required\", \"\", 1, \"form-control\", \"bg-light\", 3, \"ngStyle\", \"maxlength\"], [\"type\", \"submit\", 1, \"btn\", \"btn-secondary\", \"btn-block\", 3, \"disabled\"], [\"routerLink\", \"/signup\", 1, \"small\"], [1, \"input-error\"], [\"routerLink\", \"register\"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 6)(7, \"div\", 7)(8, \"h1\", 8);\n        i0.ɵɵtext(9, \"Login\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"form\", 9);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_10_listener() { return ctx.login(); });\n        i0.ɵɵtemplate(11, LoginComponent_div_11_Template, 4, 0, \"div\", 10);\n        i0.ɵɵtemplate(12, LoginComponent_div_12_Template, 6, 0, \"div\", 10);\n        i0.ɵɵelementStart(13, \"div\", 11);\n        i0.ɵɵelement(14, \"span\", 12)(15, \"input\", 13);\n        i0.ɵɵtemplate(16, LoginComponent_span_16_Template, 1, 0, \"span\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 11);\n        i0.ɵɵelement(18, \"span\", 12)(19, \"input\", 15);\n        i0.ɵɵtemplate(20, LoginComponent_span_20_Template, 1, 0, \"span\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"button\", 16);\n        i0.ɵɵtext(22, \" Login \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(23, \"hr\");\n        i0.ɵɵelementStart(24, \"div\", 7)(25, \"a\", 17);\n        i0.ɵɵtext(26, \"Don't have an account? Register!\");\n        i0.ɵɵelementEnd()()()()()()()();\n    } if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.passMatch === false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.userExists === true);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(10, _c0, ctx.loginForm.controls[\"username\"].dirty && ctx.loginForm.hasError(\"required\", \"username\") ? \"2px solid rgb(219, 24, 24)\" : \"2px solid rgb(217, 216, 225)\"))(\"maxlength\", 20);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginForm.controls[\"username\"].dirty && ctx.loginForm.hasError(\"required\", \"username\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(12, _c0, ctx.loginForm.controls[\"password\"].dirty && ctx.loginForm.hasError(\"required\", \"password\") ? \"2px solid rgb(219, 24, 24)\" : \"2px solid rgb(217, 216, 225)\"))(\"maxlength\", 20);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginForm.controls[\"password\"].dirty && ctx.loginForm.hasError(\"required\", \"password\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.loginForm.valid);\n    } }, directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i6.NgIf, i3.RouterLinkWithHref, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i6.NgStyle, i1.MaxLengthValidator], styles: [\".card[_ngcontent-%COMP%] {\\n    margin-top: 10% !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSwwQkFBMEI7QUFDOUIiLCJmaWxlIjoibG9naW4uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkIHtcbiAgICBtYXJnaW4tdG9wOiAxMCUgIWltcG9ydGFudDtcbn1cbiJdfQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}