{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\edwar\\\\OneDrive\\\\Desktop\\\\SoftwareDevelopment\\\\FinalProject\\\\team-the-code-experts-frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/posts.service\";\nimport * as i4 from \"src/app/services/auth.service\";\nimport * as i5 from \"src/app/services/no-posts.service\";\nimport * as i6 from \"src/app/services/voting.service\";\nimport * as i7 from \"src/app/services/flagging.service\";\nimport * as i8 from \"@angular/common\";\n\nfunction PostComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"div\", 6)(3, \"h6\", 7);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 8)(6, \"a\", 9)(7, \"div\", 10);\n    i0.ɵɵtext(8, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 11)(10, \"div\", 12);\n    i0.ɵɵtext(11, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 13);\n    i0.ɵɵtext(13, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"a\", 13);\n    i0.ɵɵtext(15, \"Share\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"div\", 14);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 15)(19, \"div\", 16)(20, \"div\", 17)(21, \"div\", 18)(22, \"div\", 19);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const post_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.upvote(post_r3.messageId, post_r3.appUser, post_r3.votes);\n    });\n    i0.ɵɵelement(23, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 21);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 19);\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const post_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.downvote(post_r3.messageId);\n    });\n    i0.ɵɵelement(27, \"img\", 22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(28, \"div\", 23);\n    i0.ɵɵelementStart(29, \"div\", 24)(30, \"a\");\n    i0.ɵɵtext(31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"a\");\n    i0.ɵɵtext(33);\n    i0.ɵɵpipe(34, \"date\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n\n  if (rf & 2) {\n    const post_r3 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(post_r3.messageTitle);\n    i0.ɵɵadvance(13);\n    i0.ɵɵtextInterpolate1(\" \", post_r3.messageBody, \" \");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", post_r3.voteSummary, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(post_r3.appUser.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" // \", i0.ɵɵpipeBind2(34, 5, post_r3.dateStamp, \"short\"), \"\");\n  }\n}\n\nfunction PostComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 5)(2, \"div\", 6);\n    i0.ɵɵelement(3, \"h6\", 26);\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"a\", 9)(6, \"div\", 10);\n    i0.ɵɵtext(7, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 27)(9, \"div\", 12);\n    i0.ɵɵtext(10, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 13);\n    i0.ɵɵtext(12, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 13);\n    i0.ɵɵtext(14, \"Share\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 14);\n    i0.ɵɵtext(16, \" Check \");\n    i0.ɵɵelementStart(17, \"a\", 28);\n    i0.ɵɵtext(18, \"the explore page\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \" to find people to follow! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 15)(21, \"div\", 29)(22, \"div\", 17)(23, \"div\", 18)(24, \"div\", 30);\n    i0.ɵɵelement(25, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 21);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 30);\n    i0.ɵɵelement(29, \"img\", 22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(30, \"div\", 31);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.noPostsMessage, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(24);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.votes, \" \");\n  }\n}\n\nfunction PostComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 5)(2, \"div\", 6);\n    i0.ɵɵelement(3, \"h6\", 26);\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"a\", 9)(6, \"div\", 10);\n    i0.ɵɵtext(7, \"\\u2807\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 27)(9, \"div\", 12);\n    i0.ɵɵtext(10, \"Post Options:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"a\", 13);\n    i0.ɵɵtext(12, \"Flag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 13);\n    i0.ɵɵtext(14, \"Share\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 14);\n    i0.ɵɵtext(16, \" Either an error occurred, or you will be the first to create a post! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 15)(18, \"div\", 29)(19, \"div\", 17)(20, \"div\", 18)(21, \"div\", 30);\n    i0.ɵɵelement(22, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 21);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 30);\n    i0.ɵɵelement(26, \"img\", 22);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(27, \"div\", 31);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.noPostsMessage, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(21);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.votes, \" \");\n  }\n}\n\nexport class PostComponent {\n  constructor(http, // Build private HTTP client\n  router, // Build private router\n  postService, // Create post service\n  authService, // Create auth service\n  noPostsService, // Import no posts messages\n  votingService, // Import Voting service\n  flaggingService) {\n    this.http = http;\n    this.router = router;\n    this.postService = postService;\n    this.authService = authService;\n    this.noPostsService = noPostsService;\n    this.votingService = votingService;\n    this.flaggingService = flaggingService;\n    this.votes = 0;\n  }\n\n  ngOnInit() {\n    this.authService.loginStatus(); // Check if user is logged in, and handle accordingly\n\n    this.postType = this.type;\n\n    if (!this.posts) {\n      this.noPostsMessage = this.noPostsService.noPosts();\n    }\n  }\n\n  upvote(postID, appUser, voteArray) {\n    /**\r\n     * Upvote post\r\n     * If post already was upvoted by the user, remove vote\r\n     * Lastly, update vote count\r\n     */\n    if (voteArray == '' || voteArray == null) {\n      var vId = voteArray[0].voteId;\n      this.votingService.deleteMessageVote(vId, appUser).subscribe( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (response) {\n          console.log(response); //  this.posts = this.posts.filter(item=>item.messageId !== postID);\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()); // this.votingService.upvote(postID, userID, voteArray);\n    } else {\n      var mId = postID;\n      this.votingService.createMessageVote(mId).subscribe( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator(function* (response) {\n          console.log(response);\n        });\n\n        return function (_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    }\n  }\n\n  downvote(postID) {\n    /**\r\n     * Downvote post\r\n     * If post already was downvoted by the user, remove vote\r\n     * Lastly, update vote count\r\n     */\n    this.votingService.downvote(postID);\n  }\n\n  flag(postID) {\n    /**\r\n     * Flag post\r\n     * If post is already flagged, remove flag\r\n     */\n    this.flaggingService.flag(postID);\n  }\n\n}\n\nPostComponent.ɵfac = function PostComponent_Factory(t) {\n  return new (t || PostComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.PostsService), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i5.NoPostsService), i0.ɵɵdirectiveInject(i6.VotingService), i0.ɵɵdirectiveInject(i7.FlaggingService));\n};\n\nPostComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostComponent,\n  selectors: [[\"app-post\"]],\n  inputs: {\n    type: \"type\",\n    posts: \"posts\"\n  },\n  decls: 5,\n  vars: 3,\n  consts: [[1, \"posts\", \"justify-content-center\"], [1, \"buffer\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mb-4 mx-auto\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mx-auto\", 4, \"ngIf\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mb-4\", \"mx-auto\"], [1, \"card\", \"h-100\", \"bg-mid\", \"shadow\", \"mb-4\"], [1, \"card-header\", \"bg-mid\", \"py-3\", \"d-flex\", \"flex-row\", \"align-items-center\", \"justify-content-between\"], [1, \"m-0\", \"font-weight-bold\"], [1, \"dropdown\", \"no-arrow\"], [\"href\", \"#\", \"role\", \"button\", \"id\", \"dropdownMenuLink\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"dropdown-toggle\"], [1, \"text-gray-400\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"animated--fade-in\"], [1, \"dropdown-header\"], [\"href\", \"#\", 1, \"dropdown-item\"], [1, \"card-body\"], [1, \"card-footer\"], [1, \"row\", \"justify-content-between\"], [1, \"col-xxl-2\", \"col-xl-2\", \"col-lg-2\", \"col-md-2\", \"col-sm-2\", \"col-xsm-2\", \"justify-content-between\"], [1, \"row\", \"vote\"], [1, \"vote-arrows\", 3, \"click\"], [\"src\", \"../../../assets/upvote.svg\", \"alt\", \"\"], [1, \"vote-count\", \"text-center\"], [\"src\", \"../../../assets/downvote.svg\", \"alt\", \"\"], [1, \"justify-content-end\", \"col-xxl-3\", \"col-xl-3\", \"col-lg-3\", \"col-md-3\", \"col-sm-3\", \"col-xsm-3\"], [1, \"justify-content-end\", \"col-xxl-5\", \"col-xl-5\", \"col-lg-5\", \"col-md-5\", \"col-sm-5\", \"col-xsm-5\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mx-auto\"], [1, \"m-0\", \"font-weight-bold\", 3, \"innerHtml\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"bg-dropdown\", \"animated--fade-in\"], [\"routerLink\", \"/explore\"], [1, \"row\"], [1, \"vote-arrows\"], [1, \"col-xxl-8\", \"col-xl-8\", \"col-lg-8\", \"col-md-8\", \"col-sm-8\", \"col-xsm-8\"]],\n  template: function PostComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1);\n      i0.ɵɵtemplate(2, PostComponent_div_2_Template, 35, 8, \"div\", 2);\n      i0.ɵɵtemplate(3, PostComponent_div_3_Template, 31, 2, \"div\", 3);\n      i0.ɵɵtemplate(4, PostComponent_div_4_Template, 28, 2, \"div\", 3);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.posts);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.posts && ctx.postType === 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.posts && ctx.postType === 2);\n    }\n  },\n  directives: [i8.NgForOf, i8.NgIf, i2.RouterLinkWithHref],\n  pipes: [i8.DatePipe],\n  styles: [\"#posts[_ngcontent-%COMP%] {\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.vote[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.buffer[_ngcontent-%COMP%] {\\r\\n    margin-top: 2em;\\r\\n}\\r\\n\\r\\n.vote-arrows[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n}\\r\\n\\r\\n.vote-count[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    display: block;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCIiwiZmlsZSI6InBvc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiNwb3N0cyB7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLnZvdGUge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmJ1ZmZlciB7XHJcbiAgICBtYXJnaW4tdG9wOiAyZW07XHJcbn1cclxuXHJcbi52b3RlLWFycm93cyB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG59XHJcblxyXG4udm90ZS1jb3VudCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG59Il19 */\"]\n});","map":{"version":3,"sources":["C:/Users/edwar/OneDrive/Desktop/SoftwareDevelopment/FinalProject/team-the-code-experts-frontend/src/app/components/feed/post/post.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","i7","i8","PostComponent_div_2_Template","rf","ctx","_r5","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PostComponent_div_2_Template_div_click_22_listener","restoredCtx","ɵɵrestoreView","post_r3","$implicit","ctx_r4","ɵɵnextContext","upvote","messageId","appUser","votes","ɵɵelement","PostComponent_div_2_Template_div_click_26_listener","ctx_r6","downvote","ɵɵpipe","ɵɵadvance","ɵɵtextInterpolate","messageTitle","ɵɵtextInterpolate1","messageBody","voteSummary","username","ɵɵpipeBind2","dateStamp","PostComponent_div_3_Template","ctx_r1","ɵɵproperty","noPostsMessage","ɵɵsanitizeHtml","PostComponent_div_4_Template","ctx_r2","PostComponent","constructor","http","router","postService","authService","noPostsService","votingService","flaggingService","ngOnInit","loginStatus","postType","type","posts","noPosts","postID","voteArray","vId","voteId","deleteMessageVote","subscribe","response","console","log","mId","createMessageVote","flag","ɵfac","PostComponent_Factory","t","ɵɵdirectiveInject","HttpClient","Router","PostsService","AuthService","NoPostsService","VotingService","FlaggingService","ɵcmp","ɵɵdefineComponent","selectors","inputs","decls","vars","consts","template","PostComponent_Template","ɵɵtemplate","directives","NgForOf","NgIf","RouterLinkWithHref","pipes","DatePipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"src/app/services/posts.service\";\r\nimport * as i4 from \"src/app/services/auth.service\";\r\nimport * as i5 from \"src/app/services/no-posts.service\";\r\nimport * as i6 from \"src/app/services/voting.service\";\r\nimport * as i7 from \"src/app/services/flagging.service\";\r\nimport * as i8 from \"@angular/common\";\r\nfunction PostComponent_div_2_Template(rf, ctx) { if (rf & 1) {\r\n    const _r5 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"div\", 6)(3, \"h6\", 7);\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"div\", 8)(6, \"a\", 9)(7, \"div\", 10);\r\n    i0.ɵɵtext(8, \"\\u2807\");\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(9, \"div\", 11)(10, \"div\", 12);\r\n    i0.ɵɵtext(11, \"Post Options:\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"a\", 13);\r\n    i0.ɵɵtext(13, \"Flag\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(14, \"a\", 13);\r\n    i0.ɵɵtext(15, \"Share\");\r\n    i0.ɵɵelementEnd()()()();\r\n    i0.ɵɵelementStart(16, \"div\", 14);\r\n    i0.ɵɵtext(17);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(18, \"div\", 15)(19, \"div\", 16)(20, \"div\", 17)(21, \"div\", 18)(22, \"div\", 19);\r\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_22_listener() { const restoredCtx = i0.ɵɵrestoreView(_r5); const post_r3 = restoredCtx.$implicit; const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.upvote(post_r3.messageId, post_r3.appUser, post_r3.votes); });\r\n    i0.ɵɵelement(23, \"img\", 20);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(24, \"div\", 21);\r\n    i0.ɵɵtext(25);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(26, \"div\", 19);\r\n    i0.ɵɵlistener(\"click\", function PostComponent_div_2_Template_div_click_26_listener() { const restoredCtx = i0.ɵɵrestoreView(_r5); const post_r3 = restoredCtx.$implicit; const ctx_r6 = i0.ɵɵnextContext(); return ctx_r6.downvote(post_r3.messageId); });\r\n    i0.ɵɵelement(27, \"img\", 22);\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelement(28, \"div\", 23);\r\n    i0.ɵɵelementStart(29, \"div\", 24)(30, \"a\");\r\n    i0.ɵɵtext(31);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(32, \"a\");\r\n    i0.ɵɵtext(33);\r\n    i0.ɵɵpipe(34, \"date\");\r\n    i0.ɵɵelementEnd()()()()()();\r\n} if (rf & 2) {\r\n    const post_r3 = ctx.$implicit;\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(post_r3.messageTitle);\r\n    i0.ɵɵadvance(13);\r\n    i0.ɵɵtextInterpolate1(\" \", post_r3.messageBody, \" \");\r\n    i0.ɵɵadvance(8);\r\n    i0.ɵɵtextInterpolate1(\" \", post_r3.voteSummary, \" \");\r\n    i0.ɵɵadvance(6);\r\n    i0.ɵɵtextInterpolate(post_r3.appUser.username);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" // \", i0.ɵɵpipeBind2(34, 5, post_r3.dateStamp, \"short\"), \"\");\r\n} }\r\nfunction PostComponent_div_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 5)(2, \"div\", 6);\r\n    i0.ɵɵelement(3, \"h6\", 26);\r\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"a\", 9)(6, \"div\", 10);\r\n    i0.ɵɵtext(7, \"\\u2807\");\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(8, \"div\", 27)(9, \"div\", 12);\r\n    i0.ɵɵtext(10, \"Post Options:\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"a\", 13);\r\n    i0.ɵɵtext(12, \"Flag\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(13, \"a\", 13);\r\n    i0.ɵɵtext(14, \"Share\");\r\n    i0.ɵɵelementEnd()()()();\r\n    i0.ɵɵelementStart(15, \"div\", 14);\r\n    i0.ɵɵtext(16, \" Check \");\r\n    i0.ɵɵelementStart(17, \"a\", 28);\r\n    i0.ɵɵtext(18, \"the explore page\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(19, \" to find people to follow! \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(20, \"div\", 15)(21, \"div\", 29)(22, \"div\", 17)(23, \"div\", 18)(24, \"div\", 30);\r\n    i0.ɵɵelement(25, \"img\", 20);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(26, \"div\", 21);\r\n    i0.ɵɵtext(27);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(28, \"div\", 30);\r\n    i0.ɵɵelement(29, \"img\", 22);\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelement(30, \"div\", 31);\r\n    i0.ɵɵelementEnd()()()();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"innerHtml\", ctx_r1.noPostsMessage, i0.ɵɵsanitizeHtml);\r\n    i0.ɵɵadvance(24);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.votes, \" \");\r\n} }\r\nfunction PostComponent_div_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"div\", 5)(2, \"div\", 6);\r\n    i0.ɵɵelement(3, \"h6\", 26);\r\n    i0.ɵɵelementStart(4, \"div\", 8)(5, \"a\", 9)(6, \"div\", 10);\r\n    i0.ɵɵtext(7, \"\\u2807\");\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(8, \"div\", 27)(9, \"div\", 12);\r\n    i0.ɵɵtext(10, \"Post Options:\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"a\", 13);\r\n    i0.ɵɵtext(12, \"Flag\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(13, \"a\", 13);\r\n    i0.ɵɵtext(14, \"Share\");\r\n    i0.ɵɵelementEnd()()()();\r\n    i0.ɵɵelementStart(15, \"div\", 14);\r\n    i0.ɵɵtext(16, \" Either an error occurred, or you will be the first to create a post! \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(17, \"div\", 15)(18, \"div\", 29)(19, \"div\", 17)(20, \"div\", 18)(21, \"div\", 30);\r\n    i0.ɵɵelement(22, \"img\", 20);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(23, \"div\", 21);\r\n    i0.ɵɵtext(24);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(25, \"div\", 30);\r\n    i0.ɵɵelement(26, \"img\", 22);\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelement(27, \"div\", 31);\r\n    i0.ɵɵelementEnd()()()();\r\n} if (rf & 2) {\r\n    const ctx_r2 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"innerHtml\", ctx_r2.noPostsMessage, i0.ɵɵsanitizeHtml);\r\n    i0.ɵɵadvance(21);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.votes, \" \");\r\n} }\r\nexport class PostComponent {\r\n    constructor(http, // Build private HTTP client\r\n    router, // Build private router\r\n    postService, // Create post service\r\n    authService, // Create auth service\r\n    noPostsService, // Import no posts messages\r\n    votingService, // Import Voting service\r\n    flaggingService) {\r\n        this.http = http;\r\n        this.router = router;\r\n        this.postService = postService;\r\n        this.authService = authService;\r\n        this.noPostsService = noPostsService;\r\n        this.votingService = votingService;\r\n        this.flaggingService = flaggingService;\r\n        this.votes = 0;\r\n    }\r\n    ngOnInit() {\r\n        this.authService.loginStatus(); // Check if user is logged in, and handle accordingly\r\n        this.postType = this.type;\r\n        if (!this.posts) {\r\n            this.noPostsMessage = this.noPostsService.noPosts();\r\n        }\r\n    }\r\n    upvote(postID, appUser, voteArray) {\r\n        /**\r\n         * Upvote post\r\n         * If post already was upvoted by the user, remove vote\r\n         * Lastly, update vote count\r\n         */\r\n        if (voteArray == '' || voteArray == null) {\r\n            var vId = voteArray[0].voteId;\r\n            this.votingService.deleteMessageVote(vId, appUser)\r\n                .subscribe(async (response) => {\r\n                console.log(response);\r\n                //  this.posts = this.posts.filter(item=>item.messageId !== postID);\r\n            });\r\n            // this.votingService.upvote(postID, userID, voteArray);\r\n        }\r\n        else {\r\n            var mId = postID;\r\n            this.votingService.createMessageVote(mId)\r\n                .subscribe(async (response) => {\r\n                console.log(response);\r\n            });\r\n        }\r\n    }\r\n    downvote(postID) {\r\n        /**\r\n         * Downvote post\r\n         * If post already was downvoted by the user, remove vote\r\n         * Lastly, update vote count\r\n         */\r\n        this.votingService.downvote(postID);\r\n    }\r\n    flag(postID) {\r\n        /**\r\n         * Flag post\r\n         * If post is already flagged, remove flag\r\n         */\r\n        this.flaggingService.flag(postID);\r\n    }\r\n}\r\nPostComponent.ɵfac = function PostComponent_Factory(t) { return new (t || PostComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.PostsService), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i5.NoPostsService), i0.ɵɵdirectiveInject(i6.VotingService), i0.ɵɵdirectiveInject(i7.FlaggingService)); };\r\nPostComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PostComponent, selectors: [[\"app-post\"]], inputs: { type: \"type\", posts: \"posts\" }, decls: 5, vars: 3, consts: [[1, \"posts\", \"justify-content-center\"], [1, \"buffer\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mb-4 mx-auto\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-xxl-6 col-xl-8 col-lg-11 col-md-12 mx-auto\", 4, \"ngIf\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mb-4\", \"mx-auto\"], [1, \"card\", \"h-100\", \"bg-mid\", \"shadow\", \"mb-4\"], [1, \"card-header\", \"bg-mid\", \"py-3\", \"d-flex\", \"flex-row\", \"align-items-center\", \"justify-content-between\"], [1, \"m-0\", \"font-weight-bold\"], [1, \"dropdown\", \"no-arrow\"], [\"href\", \"#\", \"role\", \"button\", \"id\", \"dropdownMenuLink\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"dropdown-toggle\"], [1, \"text-gray-400\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"animated--fade-in\"], [1, \"dropdown-header\"], [\"href\", \"#\", 1, \"dropdown-item\"], [1, \"card-body\"], [1, \"card-footer\"], [1, \"row\", \"justify-content-between\"], [1, \"col-xxl-2\", \"col-xl-2\", \"col-lg-2\", \"col-md-2\", \"col-sm-2\", \"col-xsm-2\", \"justify-content-between\"], [1, \"row\", \"vote\"], [1, \"vote-arrows\", 3, \"click\"], [\"src\", \"../../../assets/upvote.svg\", \"alt\", \"\"], [1, \"vote-count\", \"text-center\"], [\"src\", \"../../../assets/downvote.svg\", \"alt\", \"\"], [1, \"justify-content-end\", \"col-xxl-3\", \"col-xl-3\", \"col-lg-3\", \"col-md-3\", \"col-sm-3\", \"col-xsm-3\"], [1, \"justify-content-end\", \"col-xxl-5\", \"col-xl-5\", \"col-lg-5\", \"col-md-5\", \"col-sm-5\", \"col-xsm-5\"], [1, \"col-xxl-6\", \"col-xl-8\", \"col-lg-11\", \"col-md-12\", \"mx-auto\"], [1, \"m-0\", \"font-weight-bold\", 3, \"innerHtml\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"dropdown-menu-right\", \"shadow\", \"bg-dropdown\", \"animated--fade-in\"], [\"routerLink\", \"/explore\"], [1, \"row\"], [1, \"vote-arrows\"], [1, \"col-xxl-8\", \"col-xl-8\", \"col-lg-8\", \"col-md-8\", \"col-sm-8\", \"col-xsm-8\"]], template: function PostComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelement(1, \"div\", 1);\r\n        i0.ɵɵtemplate(2, PostComponent_div_2_Template, 35, 8, \"div\", 2);\r\n        i0.ɵɵtemplate(3, PostComponent_div_3_Template, 31, 2, \"div\", 3);\r\n        i0.ɵɵtemplate(4, PostComponent_div_4_Template, 28, 2, \"div\", 3);\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.posts);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.posts && ctx.postType === 1);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.posts && ctx.postType === 2);\r\n    } }, directives: [i8.NgForOf, i8.NgIf, i2.RouterLinkWithHref], pipes: [i8.DatePipe], styles: [\"#posts[_ngcontent-%COMP%] {\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.vote[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.buffer[_ngcontent-%COMP%] {\\r\\n    margin-top: 2em;\\r\\n}\\r\\n\\r\\n.vote-arrows[_ngcontent-%COMP%] {\\r\\n    display: block;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n}\\r\\n\\r\\n.vote-count[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    display: block;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCIiwiZmlsZSI6InBvc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiNwb3N0cyB7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLnZvdGUge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmJ1ZmZlciB7XHJcbiAgICBtYXJnaW4tdG9wOiAyZW07XHJcbn1cclxuXHJcbi52b3RlLWFycm93cyB7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG59XHJcblxyXG4udm90ZS1jb3VudCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG59Il19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}