{"ast":null,"code":"import _asyncToGenerator from \"/Users/baeonette/Software Development/Final-Project/broadcast/broadcast-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ng-angular-popup\";\nimport * as i5 from \"@angular/common\";\n\nfunction PostInputComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 16);\n  }\n}\n\nfunction PostInputComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 16);\n  }\n}\n\nfunction PostInputComponent_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵlistener(\"keydown.meta.enter\", function PostInputComponent_span_19_Template_span_keydown_meta_enter_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.post();\n    }, false, i0.ɵɵresolveDocument)(\"keydown.control.enter\", function PostInputComponent_span_19_Template_span_keydown_control_enter_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.post();\n    }, false, i0.ɵɵresolveDocument);\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"border\": a0\n  };\n};\n\nexport class PostInputComponent {\n  constructor(formBuilder, // Build private form\n  http, // Build private HTTP client\n  router, // Build private router\n  toast) {\n    this.formBuilder = formBuilder;\n    this.http = http;\n    this.router = router;\n    this.toast = toast;\n  }\n\n  ngOnInit() {\n    this.postForm = this.formBuilder.group({\n      postTitle: ['', Validators.required],\n      postBody: ['', Validators.required]\n    });\n  }\n\n  post() {\n    var _this = this;\n\n    this.http.post('http://localhost:3000/posts', // Mock JSON server\n    {\n      Title: this.postForm.value.postTitle,\n      Body: this.postForm.value.postBody\n    }).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (res) {\n        console.log(res);\n\n        try {\n          _this.postForm.reset();\n\n          _this.reloadComponent();\n\n          _this.toast.success({\n            detail: \"Success!\",\n            summary: \"Post was successful!\",\n            duration: 5000\n          });\n        } catch (error) {\n          _this.toast.warning({\n            detail: \"Error\",\n            summary: \"Post failed :/\",\n            duration: 5000\n          });\n        }\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  reloadComponent() {\n    let currentUrl = this.router.url;\n\n    this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n\n    this.router.onSameUrlNavigation = 'reload';\n    this.router.navigate([currentUrl]);\n  }\n\n  handleKeyEnter(event) {\n    event.preventDefault();\n  }\n\n}\n\nPostInputComponent.ɵfac = function PostInputComponent_Factory(t) {\n  return new (t || PostInputComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.NgToastService));\n};\n\nPostInputComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostInputComponent,\n  selectors: [[\"app-post-input\"]],\n  decls: 22,\n  vars: 11,\n  consts: [[\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\", \"bg-mid\"], [1, \"modal-header\"], [\"id\", \"postModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"post\", 3, \"formGroup\", \"ngSubmit\", \"keydown.enter\", \"keydown.meta.enter\"], [1, \"form-group\"], [\"type\", \"text\", \"id\", \"PostTitle\", \"formControlName\", \"postTitle\", \"placeholder\", \"Post Title\", \"required\", \"\", 1, \"form-control\", 3, \"ngStyle\", \"keydown.enter\"], [\"class\", \"input-error\", 4, \"ngIf\"], [\"type\", \"text\", \"id\", \"PostBody\", \"formControlName\", \"postBody\", \"placeholder\", \"Post Body\", \"required\", \"\", \"rows\", \"15\", 1, \"form-control\", 3, \"ngStyle\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", \"text-gray-100\"], [\"data-dismiss\", \"modal\", 3, \"keydown.meta.enter\", \"keydown.control.enter\", 4, \"ngIf\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"bg-orange\", \"text-gray-100\", 3, \"disabled\", \"click\"], [1, \"input-error\"], [\"data-dismiss\", \"modal\", 3, \"keydown.meta.enter\", \"keydown.control.enter\"]],\n  template: function PostInputComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h5\", 3);\n      i0.ɵɵtext(4, \"Create a Post\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 4)(6, \"span\", 5);\n      i0.ɵɵtext(7, \"\\u00D7\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"div\", 6)(9, \"form\", 7);\n      i0.ɵɵlistener(\"ngSubmit\", function PostInputComponent_Template_form_ngSubmit_9_listener() {\n        return ctx.post();\n      })(\"keydown.enter\", function PostInputComponent_Template_form_keydown_enter_9_listener($event) {\n        return ctx.handleKeyEnter($event);\n      })(\"keydown.meta.enter\", function PostInputComponent_Template_form_keydown_meta_enter_9_listener($event) {\n        return ctx.handleKeyEnter($event);\n      });\n      i0.ɵɵelementStart(10, \"div\", 8)(11, \"input\", 9);\n      i0.ɵɵlistener(\"keydown.enter\", function PostInputComponent_Template_input_keydown_enter_11_listener($event) {\n        return ctx.handleKeyEnter($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, PostInputComponent_span_12_Template, 1, 0, \"span\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 8);\n      i0.ɵɵelement(14, \"textarea\", 11);\n      i0.ɵɵtemplate(15, PostInputComponent_span_15_Template, 1, 0, \"span\", 10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 12)(17, \"button\", 13);\n      i0.ɵɵtext(18, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, PostInputComponent_span_19_Template, 1, 0, \"span\", 14);\n      i0.ɵɵelementStart(20, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function PostInputComponent_Template_button_click_20_listener() {\n        return ctx.post();\n      });\n      i0.ɵɵtext(21, \"Post\");\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"formGroup\", ctx.postForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(7, _c0, ctx.postForm.controls[\"postTitle\"].dirty && ctx.postForm.hasError(\"required\", \"postTitle\") ? \"2px solid rgb(219, 24, 24)\" : \"2px solid rgb(217, 216, 225)\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.postForm.controls[\"postTitle\"].dirty && ctx.postForm.hasError(\"required\", \"postTitle\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(9, _c0, ctx.postForm.controls[\"postBody\"].dirty && ctx.postForm.hasError(\"required\", \"postBody\") ? \"2px solid rgb(219, 24, 24)\" : \"2px solid rgb(217, 216, 225)\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.postForm.controls[\"postBody\"].dirty && ctx.postForm.hasError(\"required\", \"postBody\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.postForm.valid);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.postForm.valid);\n    }\n  },\n  directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i5.NgStyle, i5.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwb3N0LWlucHV0LmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["/Users/baeonette/Software Development/Final-Project/broadcast/broadcast-frontend/src/app/components/post-input/post-input.component.ts"],"names":["Validators","i0","i1","i2","i3","i4","i5","PostInputComponent_span_12_Template","rf","ctx","ɵɵelement","PostInputComponent_span_15_Template","PostInputComponent_span_19_Template","_r4","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","PostInputComponent_span_19_Template_span_keydown_meta_enter_0_listener","ɵɵrestoreView","ctx_r3","ɵɵnextContext","post","ɵɵresolveDocument","PostInputComponent_span_19_Template_span_keydown_control_enter_0_listener","ctx_r5","ɵɵelementEnd","_c0","a0","PostInputComponent","constructor","formBuilder","http","router","toast","ngOnInit","postForm","group","postTitle","required","postBody","Title","value","Body","subscribe","res","console","log","reset","reloadComponent","success","detail","summary","duration","error","warning","currentUrl","url","routeReuseStrategy","shouldReuseRoute","onSameUrlNavigation","navigate","handleKeyEnter","event","preventDefault","ɵfac","PostInputComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","HttpClient","Router","NgToastService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","PostInputComponent_Template","ɵɵtext","PostInputComponent_Template_form_ngSubmit_9_listener","PostInputComponent_Template_form_keydown_enter_9_listener","$event","PostInputComponent_Template_form_keydown_meta_enter_9_listener","PostInputComponent_Template_input_keydown_enter_11_listener","ɵɵtemplate","PostInputComponent_Template_button_click_20_listener","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","controls","dirty","hasError","valid","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","DefaultValueAccessor","NgControlStatus","FormControlName","RequiredValidator","NgStyle","NgIf","styles"],"mappings":"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","sourcesContent":["import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ng-angular-popup\";\nimport * as i5 from \"@angular/common\";\nfunction PostInputComponent_span_12_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 16);\n} }\nfunction PostInputComponent_span_15_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 16);\n} }\nfunction PostInputComponent_span_19_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵlistener(\"keydown.meta.enter\", function PostInputComponent_span_19_Template_span_keydown_meta_enter_0_listener() { i0.ɵɵrestoreView(_r4); const ctx_r3 = i0.ɵɵnextContext(); return ctx_r3.post(); }, false, i0.ɵɵresolveDocument)(\"keydown.control.enter\", function PostInputComponent_span_19_Template_span_keydown_control_enter_0_listener() { i0.ɵɵrestoreView(_r4); const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.post(); }, false, i0.ɵɵresolveDocument);\n    i0.ɵɵelementEnd();\n} }\nconst _c0 = function (a0) { return { \"border\": a0 }; };\nexport class PostInputComponent {\n    constructor(formBuilder, // Build private form\n    http, // Build private HTTP client\n    router, // Build private router\n    toast) {\n        this.formBuilder = formBuilder;\n        this.http = http;\n        this.router = router;\n        this.toast = toast;\n    }\n    ngOnInit() {\n        this.postForm = this.formBuilder.group({\n            postTitle: ['', Validators.required],\n            postBody: ['', Validators.required],\n        });\n    }\n    post() {\n        this.http.post('http://localhost:3000/posts', // Mock JSON server\n        {\n            Title: this.postForm.value.postTitle,\n            Body: this.postForm.value.postBody,\n        })\n            .subscribe(async (res) => {\n            console.log(res);\n            try {\n                this.postForm.reset();\n                this.reloadComponent();\n                this.toast.success({\n                    detail: \"Success!\",\n                    summary: \"Post was successful!\",\n                    duration: 5000\n                });\n            }\n            catch (error) {\n                this.toast.warning({\n                    detail: \"Error\",\n                    summary: \"Post failed :/\",\n                    duration: 5000\n                });\n            }\n        });\n    }\n    ;\n    reloadComponent() {\n        let currentUrl = this.router.url;\n        this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n        this.router.onSameUrlNavigation = 'reload';\n        this.router.navigate([currentUrl]);\n    }\n    ;\n    handleKeyEnter(event) {\n        event.preventDefault();\n    }\n}\nPostInputComponent.ɵfac = function PostInputComponent_Factory(t) { return new (t || PostInputComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.NgToastService)); };\nPostInputComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: PostInputComponent, selectors: [[\"app-post-input\"]], decls: 22, vars: 11, consts: [[\"role\", \"document\", 1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\", \"bg-mid\"], [1, \"modal-header\"], [\"id\", \"postModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"post\", 3, \"formGroup\", \"ngSubmit\", \"keydown.enter\", \"keydown.meta.enter\"], [1, \"form-group\"], [\"type\", \"text\", \"id\", \"PostTitle\", \"formControlName\", \"postTitle\", \"placeholder\", \"Post Title\", \"required\", \"\", 1, \"form-control\", 3, \"ngStyle\", \"keydown.enter\"], [\"class\", \"input-error\", 4, \"ngIf\"], [\"type\", \"text\", \"id\", \"PostBody\", \"formControlName\", \"postBody\", \"placeholder\", \"Post Body\", \"required\", \"\", \"rows\", \"15\", 1, \"form-control\", 3, \"ngStyle\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", \"text-gray-100\"], [\"data-dismiss\", \"modal\", 3, \"keydown.meta.enter\", \"keydown.control.enter\", 4, \"ngIf\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"bg-orange\", \"text-gray-100\", 3, \"disabled\", \"click\"], [1, \"input-error\"], [\"data-dismiss\", \"modal\", 3, \"keydown.meta.enter\", \"keydown.control.enter\"]], template: function PostInputComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h5\", 3);\n        i0.ɵɵtext(4, \"Create a Post\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 4)(6, \"span\", 5);\n        i0.ɵɵtext(7, \"\\u00D7\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"div\", 6)(9, \"form\", 7);\n        i0.ɵɵlistener(\"ngSubmit\", function PostInputComponent_Template_form_ngSubmit_9_listener() { return ctx.post(); })(\"keydown.enter\", function PostInputComponent_Template_form_keydown_enter_9_listener($event) { return ctx.handleKeyEnter($event); })(\"keydown.meta.enter\", function PostInputComponent_Template_form_keydown_meta_enter_9_listener($event) { return ctx.handleKeyEnter($event); });\n        i0.ɵɵelementStart(10, \"div\", 8)(11, \"input\", 9);\n        i0.ɵɵlistener(\"keydown.enter\", function PostInputComponent_Template_input_keydown_enter_11_listener($event) { return ctx.handleKeyEnter($event); });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, PostInputComponent_span_12_Template, 1, 0, \"span\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵelement(14, \"textarea\", 11);\n        i0.ɵɵtemplate(15, PostInputComponent_span_15_Template, 1, 0, \"span\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 12)(17, \"button\", 13);\n        i0.ɵɵtext(18, \"Close\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, PostInputComponent_span_19_Template, 1, 0, \"span\", 14);\n        i0.ɵɵelementStart(20, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function PostInputComponent_Template_button_click_20_listener() { return ctx.post(); });\n        i0.ɵɵtext(21, \"Post\");\n        i0.ɵɵelementEnd()()()()();\n    } if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"formGroup\", ctx.postForm);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(7, _c0, ctx.postForm.controls[\"postTitle\"].dirty && ctx.postForm.hasError(\"required\", \"postTitle\") ? \"2px solid rgb(219, 24, 24)\" : \"2px solid rgb(217, 216, 225)\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.postForm.controls[\"postTitle\"].dirty && ctx.postForm.hasError(\"required\", \"postTitle\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(9, _c0, ctx.postForm.controls[\"postBody\"].dirty && ctx.postForm.hasError(\"required\", \"postBody\") ? \"2px solid rgb(219, 24, 24)\" : \"2px solid rgb(217, 216, 225)\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.postForm.controls[\"postBody\"].dirty && ctx.postForm.hasError(\"required\", \"postBody\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.postForm.valid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.postForm.valid);\n    } }, directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i5.NgStyle, i5.NgIf], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwb3N0LWlucHV0LmNvbXBvbmVudC5jc3MifQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}